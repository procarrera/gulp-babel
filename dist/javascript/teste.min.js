"use strict";function asyncGeneratorStep(e,t,n,r,a,o,c){try{var u=e[o](c),d=u.value}catch(e){return void n(e)}u.done?t(d):Promise.resolve(d).then(r,a)}function _asyncToGenerator(u){return function(){var e=this,c=arguments;return new Promise(function(t,n){var r=u.apply(e,c);function a(e){asyncGeneratorStep(r,t,n,a,o,"next",e)}function o(e){asyncGeneratorStep(r,t,n,a,o,"throw",e)}a(void 0)})}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.handleItemIncrease=handleItemIncrease,exports.getCart=getCart,exports.handleItemDecrease=handleItemDecrease,exports.handleQuantityZero=handleQuantityZero,exports.AddToCartButton=void 0,window.onload=function(){console.log("\n ================== \n LOADED FILE CUSTOM.JS {v4.0.0} \n ================== \n"),document.querySelectorAll('[id^="button-up-"]').forEach(function(e){e.addEventListener("click",handleItemIncrease)}),document.querySelectorAll('[id^="button-down-"]').forEach(function(e){e.addEventListener("click",handleItemDecrease)})};var AddToCartButton='<button class="quick-add-button" type="submit" tabindex="0">Add To Cart</button>';function handleItemIncrease(e){e=e.target.parentNode.id;console.log(e),handleQuantitySelector(e,"+")}function getCart(){return _getCart.apply(this,arguments)}function _getCart(){return(_getCart=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/cart.js",{headers:{"Content-Type":"application/json",pragma:"no-cache","cache-control":"no-cache"},credentials:"same-origin"});case 2:return t=e.sent,e.next=5,t.json();case 5:return t=e.sent,e.abrupt("return",t);case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}function handleItemDecrease(e){e=e.target.parentNode.id;console.log(e),handleQuantitySelector(e,"-")}function handleQuantityZero(e){$("#".concat(e)).toggleClass("no-background"),$("#".concat(e)).children().addClass("hide"),$("#".concat(e)).append(AddToCartButton)}exports.AddToCartButton=AddToCartButton;var CART_UPDATE_EVENT="wetheme-cart-update",updateCartDrawer=function(e){e=new CustomEvent(CART_UPDATE_EVENT,{detail:{cart:e}});document.documentElement.dispatchEvent(e)};function handleQuantitySelector(e,t){return _handleQuantitySelector.apply(this,arguments)}function _handleQuantitySelector(){return(_handleQuantitySelector=_asyncToGenerator(regeneratorRuntime.mark(function e(t,n){var r,a,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:o=document.getElementById(t),r=parseInt(o.children[1].textContent),a=0,o={},"+"===n?(a=parseInt(r+1),o[parseInt(t)]=parseInt(r+1)):(a=parseInt(r-1),o[parseInt(t)]=parseInt(r-1)),jQuery.post("/cart/update.js",{updates:o}).done(function(e){jQuery.ajax({url:"/cart.js",dataType:"json"}).done(function(e){updateCartDrawer(e),0===a&&(console.log("aqui"),handleQuantityZero(t)),$("#quantity-".concat(t)).text(a)})});case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}